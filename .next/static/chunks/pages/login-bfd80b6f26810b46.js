(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{6429:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return n(2946)}])},2946:function(e,t,n){"use strict";n.r(t);var r=n(5893),o=n(5007),a=n(6962),i=n(7294),s=n(1163),u=n(1664),c=n.n(u),l=n(512),_=n.n(l);t.default=()=>{let e=(0,o.I0)(),t=(0,s.useRouter)(),[n,u]=(0,i.useState)(""),[l,p]=(0,i.useState)(""),[h,d]=(0,i.useState)(""),g=async r=>{r.preventDefault();try{let r=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n,password:l})}),o=await r.json();r.ok?(localStorage.setItem("token",o.token),e((0,a.x4)(o.user)),t.push("/")):d(o.error)}catch(e){d("An error occurred")}};return(0,r.jsxs)("div",{className:_().container,children:[(0,r.jsx)("h1",{className:_().title,children:"Login"}),(0,r.jsxs)("form",{onSubmit:g,className:_().form,children:[(0,r.jsx)("input",{type:"email",placeholder:"Email",value:n,onChange:e=>u(e.target.value),required:!0,className:_().input}),(0,r.jsx)("input",{type:"password",placeholder:"Password",value:l,onChange:e=>p(e.target.value),required:!0,className:_().input}),(0,r.jsx)("button",{type:"submit",className:_().button,children:"Login"})]}),h&&(0,r.jsx)("p",{className:_().error,children:h}),(0,r.jsxs)("p",{children:["Don't have an account? ",(0,r.jsx)(c(),{href:"/register",children:"Register"})]})]})}},512:function(e){e.exports={container:"Login_container__DPp2Z",title:"Login_title__S9Xbe",form:"Login_form__F7zp_",input:"Login_input__GbcAp",button:"Login_button__BuBqT",error:"Login_error__2xYo0"}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=6429)}),_N_E=e.O()}]);